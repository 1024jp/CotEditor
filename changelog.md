
changelog (for developer)
==========================

1.5
--------------------------
- [new] 情報ドロワーに単語数の表示を追加
- [new] 情報ドロワーにファイルサイズの表示を追加
- [new] 情報ドロワーにバイト数の表示を追加
- [new?] Auto-Indent が有効な状態で `{` または　`:` の直後に改行した場合は、新しい行のインデントレベルを自動的にひとつ深くする
- 特定の書類にのみ有効なタブのスペース設定をメニューバーおよびツールバーから可能に
- 移動パネルの行／文字選択がラジオボタンからポップアップボタンに
- スマート引用符およびスマートダッシュの有効化をオプションとした
- メインの編集ビュー以外のテキストボックスのスマートダッシュ／引用符を強制で無効にした
- 文字入力中のシンタックスカラーリング精度を向上
- ウインドウの透明化に関する変更
	- ウインドウ全体の透明化の廃止
	- 行番号ビューもテキストビューに合わせて透過
	- 「透明度 (transparency)」を「不透明度 (opacity)」に修正
	- ウインドウ透明パネルの名前をウインドウ不透明度パネルに変更
	- 不透明度パネルの「全ウインドウに適応」ボタンを「デフォルトとして保存」に変更し、現在のウインドウに適応するだけではなくデフォルトとしても保存されるように変更
	- 環境設定内の不透明度設定のガイド画像をより透過がわかりやすいように更新
    - ウインドウが不透明のときはウインドウのドロップシャドウが通常のものになるように修正
- 背景色が暗いときは明るい色のスクローラを使うように変更
- ウインドウオープン時の挙動に関する変更
    - たとえ新しいウインドウをオープンした際にすでに未編集のプランクウインドウがあったとしても、自動的にそのブランクウインドウを閉じないように仕様を変更
    - 最後に開いていたドキュメントウインドウの位置を記憶し、次回ウインドウオープン時にその位置にウインドウを配置するよう仕様を変更
- 印刷に関する変更
    - プリントパネルでプレビューが可能に
    - プリントジョブに書類名が反映されるように変更
    - 印刷のヘッダ／フッタに表示できる情報にシンタックス名を追加
    - プリントパネルのレイアウトを調整
    - プリントに関する用語・ローカライズを調整
- メニュー項目の「スクリプトエラー」(Script Errors Window) を「スクリプトエラーパネル」(Script Errors Panel)に変更
- ステータスバー・ドロワーの表示内容とレイアウトを変更
- Type/Creatorを参照・付与する機能を廃止
- アプリケーション起動時の処理内容の見直し
- 検索パネルや環境設定ウインドウ内のテキストビューのスマート引用符／ダッシュを無効に
- トグルアクションをするメニューバー項目のチェックマークを廃止し、項目名を「表示」と「隠す」など状況によって適切に変更するようにした
- "HTML" シンタックス定義の更新
    - HTML5 および HTML5.1 に対応
    - カラーリング精度の向上
- シンタックス定義ファイルの管理方法を変更
    - アプリケーション起動時にバンドル版のシンタックス定義を Application Support/ 領域にコピーしないようにした
        - これにより、CotEditor 1.5 以降でバンドル版シンタックス定義が更新された場合も、定義がカスタマイズされていなければその更新に追従するようになりました。
            - これは過去にコピーされた定義については有効ではありません。過去のCotEditorで読み込まれたシンタックス定義に最新版を反映させるには、環境設定 > シンタックス の各スタイル定義の編集画面から「出荷時に戻す」を実行する必要があります。
        - [上級者向け] この仕様変更を受けて、CotEdito 1.5 時点でバンドル版と同じ定義がユーザ領域にあった場合は、その定義を ~/Application Support/SyntaxColorings (old)/ に避難させるようにしました。この SyntaxColorings (old)/ ディレクトリは移行時のバックアップなので気になる場合は削除しても構いません。
    - シンタックス定義の読み込み／書き出し時に、Sandbox水準のより安全なファイル操作をするようにした
- エンコーディングに 「中国語 (GB 18030)」、「欧米 (ASCII)」 を追加
- デフォルトのエンコーディング判定で「UTF-8」を最優先するように変更
- ウインドウリサイズに追従してリアルタイムで行番号ビューも更新するように変更
- 現在では「カーボンのように」の意味が想像しづらいと考えられるため、環境設定の項目名を変更した
    - 旧: Drag selected text immediately (just like in Carbon applications)
    - 新: Drag selected text immediately
    - 旧: Carbonのように、選択テキストをすぐにドラッグ開始
    - 新: 選択テキストをすぐにドラッグ開始
- 環境設定ウインドウなどの数値入力用のフィールドでは、自動的にローマ字入力に切り替わるようにした
- 環境設定ウインドウのタイトルをその時選択されているタブの名前に変更
- 環境設定ウインドウの拡張子エラーシートのデザインを改善
- 環境設定ウインドウのシート類のレイアウトを調整
- 感興設定のいくつかの項目の表現を変更（英語）

- AppleScriptに関する変更
	- documentオブジェクトの `transparency` および `alpha only textView` プロパティの廃止
	- windowオブジェクトに `view opacity` プロパティを追加
    - Application直下の `selection` を正式に廃止とした。

- [fix] 日本語環境でバックスラッシュが含まれたキーバインディングが機能しない不具合を修正
- [fix] 置換後、再カラーリングが実行されない不具合を修正
- [fix] プリントヘッダ/フッタのページ数がすべて「-1-」になってしまっていた不具合のを修正
- [fix] ツールバー上の改行コードポップアップメニューに選択項目のチェックマークが表示されない不具合を修正
- [fix] フォントパネルからウインドウのフォントを一時的に変更したときタブ幅が更新されない不具合を修正
- [fix] ファインダーロックが外せない未保存の書類を閉じようとしたとき出る確認アラートで「保存しないで閉じる」ボタンを選択しても、ウインドウが閉じるだけでアプリケーションが終了しない不具合を修正
- [fix] AppleScriptからの `close` コマンドが無視される問題を解決
- [fix] AppleScriptから望ましくないウインドウオブジェクトが見え、かつ操作できてしまう問題を解決
- [fix] AppleScriptで検索/置換をした場合改行コードがCRのときに `^` (行頭) が認識されない問題を解決
- [fix] シンタックススタイル定義に空の拡張子の定義が含まれるとCotEditorがフリーズして次回以降立ち上がらなくなる不具合を修正
- [fix] 日本語環境で、ツールバー編集シート内のカラーコードエディタ関連アイコンがローカライズされていなかったのを修正
- [fix] 非ASCII文字を含んだ文書を「無損失 ASCII (Non-lossy ASCII)」で保存しようとすると静かに失敗する不具合を修正
- [fix] アプリケーションアイコン上のPHPコードの間違いを修正
