<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="keywords" content="Script Menu, script"><link rel="start" href="../CotEditorHelp.html"><link rel="index" href="../xpgs/xall.html"><link rel="stylesheet" href="../sty/standard.css" type="text/css"><title>Working with UNIX scripts</title></head><body><div id="navbar"><div id="home"><a href="../CotEditorHelp.html" rel="start">CotEditor Help</a></div><div id="index"><a href="../xpgs/xall.html" rel="index">Index</a></div></div><div id="contents"><h1><img src="../gfx/icon32.png" alt="" width="32" height="32" id="h1icon">Working with UNIX scripts</h1><p>This page explains how to pass your document's text to UNIX scripts that are executable via the Script menu, or how to receive the outputs from them.</p><ul><li>The file extensions of the scripts you can add to the Script menu are: .sh .pl .php .rb .py (regardless of their languages)</li><li>In order to run a script, you need to set execute permission for the script file. To do so, use Terminal.app (located in Applications/Utilities) or chmod-755.app which is bundled in the Extras folder.</li><li>Line endings in your script must be LF.</li></ul><h2>Passing text data to a script</h2><p>To pass text data from CotEditor to your script, you need to put a comment at the beginning of the script and write &ldquo;<code>%%%{CotEditorXInput=xxxx}%%%</code>&rdquo; inside. Replace &ldquo;<code>xxxx</code>&rdquo; with one of the parameters below.</p><table><tr><th class="lh"><code>Selection</code></th><td>To pass the text you are currently selecting.</td></tr><tr><th class="lh"><code>AllText</code></th><td>To pass the whole text of your document.</td></tr><tr><th class="lh"><code>None</code></th><td>To pass nothing (default).</td></tr></table><ul style="margin-top: 1em;"><li>With no parameters, CotEditor passes nothing just like when you put &ldquo;None.&rdquo;</li><li>A script should capture CotEditor's text data on STDIN (standard in).</li><li>CotEditor passes text data with UTF-8 encoding.</li></ul><h2>Receiving output data from a script</h2><p>To make CotEditor receive output data from a script, you need to put a comment at the beginning of the script and write &ldquo;<code>%%%{CotEditorXOutput=xxxx}%%%</code>&rdquo; inside. Replace &ldquo;<code>xxxx</code>&rdquo; with one of the parameters below.</p><table><tr><th class="lh"><code>ReplaceSelection</code></th><td>To replace the current selection with the contents of the output data.</td></tr><tr><th class="lh"><code>ReplaceAllText</code></th><td>To replace the whole text of your document with the contents of the output data.</td></tr><tr><th class="lh"><code>InsertAfterSelection</code></th><td>To insert the contents of the output data right after the current selection.</td></tr><tr><th class="lh"><code>AppendToAllText</code></th><td>To insert the contents of the output data at the end of your document.</td></tr><tr><th class="lh"><code>Pasteboardputs</code></th><td>To store the contents of the output data in clipboard.</td></tr><tr><th class="lh"><code>Discard</code></th><td>To do nothing (default).</td></tr></table><ul style="margin-top: 1em;"><li>With no parameters, CotEditor does nothing just like when you put &ldquo;Discard.&rdquo;</li><li>A script should output the text data for CotEditor on STDOUT (standard out).</li><li>The character encoding of the text that CotEditor receives must be UTF-8.</li></ul><h2 id="P0">See also</h2><ul class="rel_items">  <li><a href="../pgs/howto_customize_scriptmenu.html" class="wikipage">Customizing the Script menu</a></li>  <li><a href="../pgs/about_applescript.html" class="wikipage">Working with AppleScript scripts</a></li>  <li><a href="../pgs/about_script_name.html" class="wikipage">File naming rules for CotEditor scripts</a></li></ul></div></body></html>